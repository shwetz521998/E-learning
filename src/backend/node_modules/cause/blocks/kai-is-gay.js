'use strict';

var request = require('request');


function fn(task, step, input, prev_step, done) {
	var cause = this;

	var req_opts = {
		url: step.options.url,
		headers: {
			'Referer': step.options.referer,
			'Connection': 'keep-alive'
		}
	};

	request(req_opts, function(err, res, body) {
		if (err) { return done(err); }

		var output = 'kai is gay';
		done(null, output, null);
	}).on('error', function(err) {
		cause.handle_error(err);
	});
}


module.exports = {
	fn: fn,
	defaults: {
		options: {
			//
		},
		data: {
			//
		},
		// description: "amazon product\nprice changed"
	}
};
